<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:spiked3="clr-namespace:spiked3"
        xmlns:local="clr-namespace:pilot_test" x:Class="pilot_test.MainWindow"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Title="Spiked3.com Pilot V1R1 Tests" Height="673.45" Width="849" Loaded="Window_Loaded" Closing="Window_Closing" WindowStartupLocation="CenterOwner"
        >
    <DockPanel LastChildFill="True">
        <Menu DockPanel.Dock="Top" >
            <MenuItem Header="_File" >
                <MenuItem Header="_Save State" Click="SaveState_Click" />
                <Separator />
                <MenuItem Header="E_xit" Click="ExitMenuItem_Click" />
            </MenuItem>
        </Menu>
        <StatusBar DockPanel.Dock="Bottom" >
            <StackPanel Orientation="Horizontal" >
                <Label Content="Serial Open: "  Margin="4,0,4,0"/>
                <TextBlock Text="{Binding SerialIsOpen, FallbackValue=NA}" VerticalAlignment="Center" Margin="4,0,4,0"/>
            </StackPanel>
        </StatusBar>
        <Grid >
            <Grid.Resources>
                <Style TargetType="DockPanel" >
                    <Setter Property="Margin" Value="4" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                </Style>
                <Style TargetType="Slider" >
                    <Setter Property="TickFrequency" Value="10" />
                    <Setter Property="TickPlacement" Value="BottomRight" />
                    <Setter Property="IsSnapToTickEnabled" Value="True" />
                    <Setter Property="MinWidth" Value="128" />
                </Style>
                <Style TargetType="TextBox" >
                    <Setter Property="DockPanel.Dock" Value="Right" />
                    <Setter Property="TextAlignment" Value="Right" />
                    <Setter Property="Width" Value="40" />
                </Style>
            </Grid.Resources>
            <Grid.RowDefinitions>
                <RowDefinition Height="2.4*" />
                <RowDefinition Height="3*" />
                <RowDefinition Height="4" />
                <RowDefinition Height="6*" />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0" >
                <WrapPanel >
                    <DockPanel>
                        <Label Content="M1 Power" TabIndex="1"/>
                        <TextBox Text="{Binding ElementName=slPower,Path=Value,UpdateSourceTrigger=PropertyChanged, Delay=500}" TabIndex="3"/>
                        <Slider x:Name="slPower" Maximum="{Binding MotorMax}" Minimum="{Binding MotorMin}" Value="{Binding MotorPower, Delay=500}" ValueChanged="slPower_ValueChanged" TabIndex="2"/>
                    </DockPanel>
                    <local:pidControl />
                </WrapPanel>
            </Grid>
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1">
                <WrapPanel >
                    <WrapPanel.Resources>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Width" Value="118" />
                            <Setter Property="Height" Value="64" />
                            <Setter Property="Margin" Value="4" />
                        </Style>
                        <Style TargetType="{x:Type ToggleButton}">
                            <Setter Property="Width" Value="118" />
                            <Setter Property="Height" Value="64" />
                            <Setter Property="Margin" Value="4" />
                            <Setter Property="Background" Value="WhiteSmoke" />
                        </Style>
                    </WrapPanel.Resources>
                    <Button Click="Button_EStop" Background="Red" Foreground="White" FontWeight="ExtraBold" Content="E_Stop" />
                    <ToggleButton Checked="Button_Serial" Unchecked="Button_Serial" Content="Seria_l" />
                    <Button Click="Test1_Click" Content="Test1" />
                    <Button Click="M1_Click" Content="M1 Power" />
                    <Button Click="Pid_Click" Content="PID" />
                    <Button Click="Geom_Click" Content="Geom" />

                    <Button Click="Button_ResetPose" Background="Yellow" Content="Reset Pose" />

                    <ToggleButton Checked="ToggleButton_Bumper" Unchecked="ToggleButton_Bumper" IsChecked="True" Content="Bumper" />
                    <ToggleButton x:Name="tglEsc" Checked="ToggleButton_Esc" Unchecked="ToggleButton_Esc" Content="_Esc" />

                    <Button Click="Button_HbOff" Content="HB Off" />
                    <Button Click="Button_Hb500" Content="HB 500" />
                    <Button Click="Button_Hb2000" Content="HB 2000"/>
                </WrapPanel>
            </ScrollViewer>
            <GridSplitter Grid.Row="2" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"/>
            <spiked3:Console x:Name="console1" Grid.Row="3" VerticalAlignment="Stretch" />
        </Grid>
    </DockPanel>
</Window>